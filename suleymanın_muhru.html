<!DOCTYPE html>
<html lang="tr" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>سليمان’ın Mührü | Ezoterik Mühür Üretici</title>
    <style>

.sirri-takvim {
            background: rgba(20, 20, 20, 0.7);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #4a2c82;
        }
        .sirri-takvim h4 {
            color: #d4af37;
            margin-top: 0;
            border-bottom: 1px dashed #d4af37;
            padding-bottom: 5px;
        }

      body {
        background: #0a0a0a
          url("https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80")
          no-repeat center center fixed;
        background-size: cover;
        color: #d4af37;
        font-family: "Cinzel", "Arial", sans-serif;
        text-align: center;
        direction: ltr;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23d4af37" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"/></svg>'),
          auto;
      }
      #muhur-container {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

      .container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        background: rgba(10, 10, 10, 0.8);
        border: 1px solid #4a2c82;
        border-radius: 10px;
        box-shadow: 0 0 20px #8a2be2;
      }

      h1 {
        font-size: 2.5em;
        text-shadow: 0 0 10px #d4af37;
        letter-spacing: 3px;
      }

      .input-group {
        margin: 20px 0;
      }

      label {
        display: block;
        margin-bottom: 5px;
        font-size: 1.2em;
      }

      input,
      textarea {
        width: 80%;
        padding: 10px;
        background: rgba(20, 20, 20, 0.7);
        border: 1px solid #4a2c82;
        color: #d4af37;
        font-family: "Cinzel", serif;
        border-radius: 5px;
        margin-bottom: 10px;
      }

      button {
        background: linear-gradient(45deg, #4a2c82, #8a2be2);
        color: white;
        border: none;
        padding: 12px 25px;
        font-size: 1.1em;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 0 10px #8a2be2;
      }

      button:hover {
        background: linear-gradient(45deg, #8a2be2, #4a2c82);
        transform: scale(1.05);
      }

      #muhur-container {
        margin: 30px auto;
        width: 400px;
        height: 400px;
        position: relative;
        filter: drop-shadow(0 0 15px rgba(138, 43, 226, 0.7));
      }

      #muhur-svg {
        width: 100%;
        height: 100%;
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .ayarlar {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
      }

      .ayar-kutu {
        background: rgba(30, 30, 30, 0.7);
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #4a2c82;
      }

      /* Mistik scrollbar */
      ::-webkit-scrollbar {
        width: 10px;
      }

      ::-webkit-scrollbar-track {
        background: #1a1a1a;
      }

      ::-webkit-scrollbar-thumb {
        background: #4a2c82;
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #8a2be2;
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700"
      rel="stylesheet"
    />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  </head>
  <body>
    <div class="container">
        <h1>سليمان’ın Mührü</h1>
        <p>Doğum tarihiniz otomatik olarak Takvim-i Sırriyye'ye çevrilecek ve mühür buna göre oluşturulacaktır.</p>

        <div class="input-group">
            <label for="isim">İsminiz:</label>
            <input type="text" id="isim" placeholder="Adınızı yazın...">
        </div>

        <div class="input-group">
            <label for="dogumTarihi">Doğum Tarihi (GG.AA.YYYY):</label>
            <input type="text" id="dogumTarihi" placeholder="15.03.1990">
        </div>

        <div class="input-group">
            <label for="gizliCumle">Gizli Cümleniz:</label>
            <textarea id="gizliCumle" rows="3" placeholder="Kaderinize dair bir sır yazın..."></textarea>
        </div>

        <button onclick="muhurOlustur()">Mührü Oluştur</button>

        <div id="sirri-takvim-sonuc" class="sirri-takvim" style="display:none;">
            <h4>Takvim-i Sırriyye Karşılığı</h4>
            <div id="sirri-tarih"></div>
            <div id="gun-anlami"></div>
        </div>

        <div id="muhur-container"></div>
    </div>

    <script>
      const aylar = [
            "Zehr-i Cihan", "Shalgum", "Hadid", "Muriat",
            "Zarnikh", "Mavera", "İlham", "Keşf",
            "Berzah", "Mi'râc", "Nûr", "Nefes",
            "Şehâdet", "Yevme'l Sıfr"
        ];
        
        const gunler = [
            "Fetih", "Tefekkür", "Hikmet", "Kelam", 
            "Zikir", "Meydan", "Sükûn"
        ];
        
        const BASLANGIC = new Date("2022-04-13"); // Takvim başlangıcı

        function miladiToSirri(tarihStr) {
            const [gun, ay, yil] = tarihStr.split('.');
            const tarih = new Date(`${yil}-${ay}-${gun}T00:00:00`);
            const baslangic = new Date(BASLANGIC);
            
            const farkGun = Math.floor((tarih - baslangic) / (1000 * 60 * 60 * 24));
            const isRS = farkGun >= 0;
            const absGun = Math.abs(farkGun);

            // RÖ (Rüyadan Önce) hesaplama
            if (!isRS) {
                let yilRO = 0;
                let kalanGun = absGun;
                
                while (yilRO <= 100) {
                    const yilGunSayisi = (yilRO % 4 === 0) ? 366 : 365;
                    if (kalanGun < yilGunSayisi) break;
                    kalanGun -= yilGunSayisi;
                    yilRO++;
                }
                
                let ayRO, gunRO;
                if (kalanGun < 336) {
                    ayRO = Math.floor(kalanGun / 28);
                    gunRO = (kalanGun % 28) + 1;
                } else {
                    ayRO = 12;
                    gunRO = kalanGun - 335;
                }
                
                const haftaninGunu = gunler[(tarih.getDay() + 6) % 7];
                return {
                    tarih: `${gunRO} ${aylar[ayRO]} ${yilRO + 1} RÖ`,
                    gunAnlami: getDayMeaning(haftaninGunu),
                    ay: aylar[ayRO]
                };
            }

            // RS (Rüyadan Sonra) hesaplama
            let yilRS = 1;
            let kalanGunRS = absGun;
            
            while (yilRS <= 100) {
                const yilGunSayisi = (yilRS % 4 === 0) ? 366 : 365;
                if (kalanGunRS < yilGunSayisi) break;
                kalanGunRS -= yilGunSayisi;
                yilRS++;
            }

            // Yevme'l Sıfr kontrolü
            if (kalanGunRS === 0) {
                return {
                    tarih: `Yevme'l Sıfr (∅) ${yilRS} RS`,
                    gunAnlami: "Zamanın olmadığı an",
                    ay: "Yevme'l Sıfr"
                };
            }

            kalanGunRS--;
            let ayRS, gunRS;
            if (kalanGunRS < 336) {
                ayRS = Math.floor(kalanGunRS / 28);
                gunRS = (kalanGunRS % 28) + 1;
            } else {
                ayRS = 12;
                gunRS = kalanGunRS - 335;
            }

            const haftaninGunu = gunler[(tarih.getDay() + 6) % 7];
            return {
                tarih: `${gunRS} ${aylar[ayRS]} ${yilRS} RS`,
                gunAnlami: getDayMeaning(haftaninGunu),
                ay: aylar[ayRS]
            };
        }

        function getDayMeaning(gun) {
            const meanings = {
                "Fetih": "Yeni başlangıçlar ve zafer günü",
                "Tefekkür": "Derin düşünce ve içe bakış zamanı",
                "Hikmet": "İlahi bilgeliğin tecelli ettiği gün",
                "Kelam": "Sözün kudretinin zirvesi",
                "Zikir": "Kalbin arındığı anlar",
                "Meydan": "İmtihan ve nefs mücadelesi günü",
                "Sükûn": "Teslimiyet ve huzur vakti"
            };
            return meanings[gun] || "";
        }

        // AY RENKLERİ (Yeni takvime göre güncellendi)
        const AY_RENKLERI = {
    "Zehr-i Cihan": "#6a5acd",    // Açık lavanta
    "Shalgum": "#cd853f",         // Açık toprak
    "Hadid": "#d2691e",           // Açık bakır
    "Muriat": "#5f9ea0",         // Açık deniz mavisi
    "Zarnikh": "#ffd700",        // Altın (orijinal)
    "Mavera": "#ba55d3",        // Orkide moru
    "İlham": "#ffb6c1",         // Açık pembe
    "Keşf": "#48d1cc",          // Açık turkuaz
    "Berzah": "#778899",       // Açık gri
    "Mi'râc": "#9370db",       // Orta mor (orijinal)
    "Nûr": "#ffff54",          // Açık neon sarı
    "Nefes": "#90ee90",       // Açık yeşil
    "Şehâdet": "#ff7f50",    // Açık mercan
    "Yevme'l Sıfr": "#696969" // Koyu gri (siyah yerine)
};

      // Elementler ve Ebced Değerleri
      const EBCED = {
        ا: 1,
        ب: 2,
        ج: 3,
        د: 4,
        ه: 5,
        و: 6,
        ز: 7,
        ح: 8,
        ط: 9,
        ي: 10,
        ك: 20,
        ل: 30,
        م: 40,
        ن: 50,
        س: 60,
        ع: 70,
        ف: 80,
        ص: 90,
        ق: 100,
        ر: 200,
        ش: 300,
        ت: 400,
        ث: 500,
        خ: 600,
        ذ: 700,
        ض: 800,
        ظ: 900,
        غ: 1000,
      };

      function ebcedHesapla(metin) {
        let toplam = 0;
        for (let harf of metin) {
          toplam += EBCED[harf] || 0;
        }
        return toplam;
      }

      function muhurOlustur() {
        const isim = document.getElementById("isim").value;
            const dogumTarihi = document.getElementById("dogumTarihi").value;
            const gizliCumle = document.getElementById("gizliCumle").value;

            if (!isim || !dogumTarihi || !gizliCumle) {
                alert("Lütfen tüm alanları doldurun!");
                return;
            }

            // 1. TAKVİM DÖNÜŞÜMÜ
            const sirriTarih = miladiToSirri(dogumTarihi);
            document.getElementById("sirri-takvim-sonuc").style.display = "block";
            document.getElementById("sirri-tarih").innerHTML = `<strong>${sirriTarih.tarih}</strong>`;
            document.getElementById("gun-anlami").innerHTML = sirriTarih.gunAnlami;

            // 2. MÜHÜR OLUŞTURMA
            const renk = AY_RENKLERI[sirriTarih.ay];
            const ebcedToplam = ebcedHesapla(gizliCumle);

        // 2a. DOMİNANT ELEMENT (Ebced % 4)
        const elementler = ["🜁 (Hava)", "🜂 (Ateş)", "🜄 (Su)", "🜃 (Toprak)"];
        const dominantElement = elementler[ebcedToplam % 4];

        // 2b. DIŞ ŞEKİL (Ebced % 6)
        const sekiller = [
          {
            ad: "Heksagram",
            yol: "M200 50 L250 150 L350 150 L400 200 L350 250 L250 250 L200 350 L150 250 L50 250 L0 200 L50 150 L150 150 Z",
          },
          {
            ad: "Pentagram",
            yol: "M200 20 L250 150 L100 60 L300 60 L150 150 Z",
          },
          {
            ad: "Spiral",
            yol: "M200 200 Q250 150 200 100 Q150 150 200 200 Q250 250 200 300 Q150 250 200 200",
          },
          {
            ad: "Metatron Küpü",
            yol: "M200 50 L350 200 L200 350 L50 200 Z M50 200 L200 50 L350 200 M50 200 L200 350 L350 200",
          },
          {
            ad: "Yıldız",
            yol: "M200 20 L240 140 L360 140 L260 220 L300 340 L200 260 L100 340 L140 220 L40 140 L160 140 Z",
          },
          {
            ad: "Büyü Dairesi",
            yol: "M200 100 A100 100 0 1 1 200 300 A100 100 0 1 1 200 100 Z",
          },
        ];
        const disSekil = sekiller[ebcedToplam % 6];

        // 3. GİZLİ CÜMLE SEMBOLLERİ (SHA-1 hash'inden üret)
        const hash = CryptoJS.SHA1(gizliCumle).toString();
        const semboller = ["ⵣ", "ⴼ", "ⵔ", "☤", "⚚", "♆", "☯", "⚕"];
        let sembolHTML = "";
        for (let i = 0; i < 8; i++) {
          const charCode = parseInt(hash.charAt(i), 16);
          const sembol = semboller[charCode % semboller.length];
          const angle = i * 45 + (ebcedToplam % 30);
          sembolHTML += `
                    <text x="${200 + Math.cos((angle * Math.PI) / 180) * 160}" 
                          y="${200 + Math.sin((angle * Math.PI) / 180) * 160}" 
                          font-size="18" 
                          transform="rotate(${angle + 90} ${
            200 + Math.cos((angle * Math.PI) / 180) * 160
          } ${200 + Math.sin((angle * Math.PI) / 180) * 160})"
                          fill="${renk}">${sembol}</text>
                `;
        }

        // SVG OLUŞTUR
        document.getElementById("muhur-container").innerHTML = `
                <svg id="muhur-svg" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- AURA -->
                    <defs>
                        <radialGradient id="aura" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" stop-color="${renk}" stop-opacity="0.8"/>
                            <stop offset="100%" stop-color="${renk}" stop-opacity="0"/>
                        </radialGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="blur"/>
                            <feComposite in="SourceGraphic" in2="blur" operator="over"/>
                        </filter>
                    </defs>
                    
                    <!-- DIŞ ŞEKİL -->
                    <path d="${
                      disSekil.yol
                    }" fill="none" stroke="${renk}" stroke-width="2" stroke-dasharray="${
          (ebcedToplam % 10) + 5
        }" filter="url(#glow)"/>
                    
                    <!-- ELEMENTLER -->
                    ${elementler
                      .map(
                        (el, i) => `
                        <text x="${
                          i === 0 ? 200 : i === 1 ? 300 : i === 2 ? 200 : 100
                        }" 
                              y="${
                                i === 0
                                  ? 100
                                  : i === 1
                                  ? 200
                                  : i === 2
                                  ? 300
                                  : 200
                              }" 
                              font-size="${dominantElement === el ? 36 : 24}" 
                              fill="${renk}" 
                              opacity="${dominantElement === el ? 1 : 0.6}">
                            ${el.split(" ")[0]}
                        </text>
                    `
                      )
                      .join("")}
                    
                    <!-- GİZLİ CÜMLE SEMBOLLERİ -->
                    ${sembolHTML}
                    
                    <!-- MERKEZ -->
                    <circle cx="200" cy="200" r="50" fill="#111" stroke="${renk}" stroke-width="3"/>
                    <text x="200" y="210" font-size="40" text-anchor="middle" fill="${renk}" font-family="Cinzel">
                        ${isim.charAt(0).toUpperCase()}
                    </text>
                    
                    <!-- YAZILAR -->
                    <text x="200" y="30" font-size="12" text-anchor="middle" fill="${renk}">
                        ${sirriTarih.ay} • ${dominantElement}
                    </text>
                    <text x="200" y="380" font-size="10" text-anchor="middle" fill="${renk}">
                        ${hash.substring(0, 8)}... • ${disSekil.ad}
                    </text>
                </svg>
            `;
      }
    </script>
  </body>
</html>
